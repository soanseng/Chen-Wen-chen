# 陳文成事件互動文字調查遊戲

## 專案概述

一款網頁互動文字調查遊戲，靈感來自台灣1981年陳文成事件。玩家扮演現代研究員，透過瀏覽解密檔案、標記可疑段落、觸發矛盾連結，逐步拼湊真相——但結局不是「破案」，推理簿上永遠有填不完的空白，因為真相至今未明。

## 技術規格

- **前端框架**：React + Vite + TailwindCSS
- **視覺層**：PixiJS 簡單 2D 像素風（印章、紙張質感、文件圖示），以文字為主
- **設計**：手機優先（Mobile-first），電腦也能玩
- **UI 風格**：類似終端機或舊式文件管理器（黑底綠字 / 米色紙張質感），輔以像素風圖像增添年代感
- **存檔**：localStorage（預估 ~9KB）
- **部署**：純前端，無後端。Vite 打包為靜態資產
- **語言**：繁體中文

## 專案結構

```
Chen-Wen-chen/
├── CLAUDE.md                 # 本檔案
├── .gitignore
├── README.md
├── package.json
├── vite.config.ts
├── tailwind.config.ts
├── tsconfig.json
├── index.html                # Vite 入口
├── public/
│   └── assets/               # 像素風靜態資源（印章 sprite 等）
├── src/
│   ├── main.tsx              # React 入口
│   ├── App.tsx
│   ├── components/           # React UI 元件
│   ├── hooks/                # Custom hooks（useSaveGame, useContradiction 等）
│   ├── context/              # 遊戲狀態 Context
│   ├── data/                 # 32 份文件內容（結構化資料模組）
│   ├── pixi/                 # PixiJS 整合（印章、紙張質感、轉場特效）
│   └── styles/               # TailwindCSS 自訂設定與覆寫
├── docs/                     # 規劃文件（已完成）
│   ├── documents.md          # 32 份遊戲內文件素材清單
│   ├── contradictions.md     # 16 個矛盾點與線索圖譜
│   ├── gameflow.md           # 5 章遊戲流程大綱
│   ├── characters.md         # 角色人物表與虛構化建議
│   └── savedata.md           # 存檔 JSON 結構定義
├── 促轉會《陳文成案調查報告》001-072.pdf  # 原始資料（不納入版控）
└── 促轉會《陳文成案調查報告》073-170.pdf  # 原始資料（不納入版控）
```

## 核心遊戲機制

1. **閱讀文件**：玩家瀏覽各章解鎖的檔案
2. **標記段落**：長按/點擊可疑段落進行標記
3. **矛盾連結**：系統偵測到兩段標記命中特定矛盾 → 自動連結
4. **解鎖進展**：觸發矛盾 → 解鎖新文件 / 新推論 / 推理簿欄位
5. **推理簿**：12 個欄位，其中 4 個永遠鎖定（真相不可得）

## 文件 ID 命名規則

- `DOC-INT-xx`：偵訊紀錄（Interrogation）
- `DOC-SUR-xx`：監控檔案（Surveillance）
- `DOC-FOR-xx`：鑑識報告（Forensic）
- `DOC-WIT-xx`：證人陳述（Witness）
- `DOC-OFF-xx`：官方文件（Official）
- `DOC-EXT-xx`：外部資料（External）

矛盾編號：`C-01` ~ `C-16`（🔓 可解決 14 個、🔒 永遠無解 2 個）

## 章節結構

| 章節 | 名稱 | 文件數 | 情緒基調 |
|------|------|--------|----------|
| 序章 | 歸鄉 | 3 | 溫暖→不安 |
| 第一章 | 監視之網 | 5 | 壓迫、窒息 |
| 第二章 | 約談 | 5 | 緊張、封閉 |
| 第三章 | 證據 | 7 | 震驚、困惑 |
| 第四章 | 掩蓋 | 10 | 官僚體系的恐怖 |
| 終章 | 未完的檔案 | 4 + 推理簿結算 | 留白、沉重 |

## 歷史敏感度處理

- 🟢 **實名**：陳文成本人、已公開學術專家（Wecht、DeGroot）
- 🟡 **半虛構**：家屬（以關係稱呼為主）、促轉會鑑定人
- 🔴 **虛構化**：加害體系（警總人員以職稱代替）、目擊者、情治系統

**原則**：不預設立場、不做道德審判、讓證據自己說話。保持克制的敘事語調。

## 開發指引

### 待開發項目

規劃文件已完成，接下來是實作階段。建議順序：

1. **專案初始化**：Vite + React + TailwindCSS 腳手架，PixiJS 整合
2. **遊戲狀態管理**：React Context（或 Zustand）管理全域遊戲狀態
3. **文件瀏覽器元件**：檔案列表 UI、分類瀏覽
4. **文件閱讀器元件**：文件內容渲染、段落標記（長按/點擊）功能
5. **矛盾偵測引擎**：custom hook 比對已標記段落，觸發矛盾連結
6. **章節進度**：解鎖邏輯、章節轉場
7. **推理簿**：12 欄位的筆記本介面（獨立 React 路由或視圖）
8. **存檔系統**：localStorage custom hook（`useSaveGame`）
9. **PixiJS 像素風圖層**：印章 sprite、紙張老化質感、文件分類圖示、章節轉場特效
10. **文件內容撰寫**：32 份遊戲內文件的實際文本（`src/data/` 下的結構化資料）

### 設計約束

- 不使用背景音樂、音效
- 動畫克制、服務敘事：PixiJS 用於細微視覺增強（印章渲染、紙張質感、章節轉場淡入/淡出），非電影式特效。文字仍是主要媒介
- 字體：Noto Serif TC 或系統明體（於 `tailwind.config.ts` 中設定自訂 font-family）
- 調色盤保持低調（米色、深灰、暗紅作為重點色），以 TailwindCSS 自訂主題管理
- 所有遊戲文件內容以 `src/data/` 下的結構化資料模組儲存，以 ES module 匯入

### 存檔結構

完整 JSON schema 見 `docs/savedata.md`。關鍵欄位：
- `chapter`：當前/已解鎖/已完成章節
- `documents`：各文件解鎖與已讀狀態
- `highlights`：玩家標記的段落
- `connections`：已觸發的矛盾連結
- `notebook`：推理簿 12 欄位的值與鎖定狀態

## 參考資料

- 促轉會《陳文成案調查報告》（2020）
- `docs/` 目錄下的 5 份規劃文件為本遊戲設計的唯一權威來源
