import type { DocumentCategory } from '../../types/index.ts'

/**
 * Pixel-art style document category icon rendered as inline SVG.
 * 16x16 pixel grid scaled to the given display size.
 */

interface CategoryIconProps {
  category: DocumentCategory
  size?: number
  className?: string
}

// Each icon is defined as a list of filled pixel coordinates on a 16x16 grid
// using the game's stamp color palette

const ICON_PIXELS: Record<DocumentCategory, { pixels: [number, number][]; color: string }> = {
  // INT: Interrogation chair / clipboard
  INT: {
    color: '#8b2020',
    pixels: [
      // Clipboard outline
      [5,1],[6,1],[7,1],[8,1],[9,1],[10,1],
      [4,2],[11,2],
      [4,3],[5,3],[6,3],[7,3],[8,3],[9,3],[10,3],[11,3],
      [4,4],[11,4],
      [4,5],[6,5],[7,5],[8,5],[9,5],[11,5],
      [4,6],[11,6],
      [4,7],[6,7],[7,7],[8,7],[11,7],
      [4,8],[11,8],
      [4,9],[6,9],[7,9],[8,9],[9,9],[11,9],
      [4,10],[11,10],
      [4,11],[6,11],[7,11],[8,11],[11,11],
      [4,12],[11,12],
      [4,13],[5,13],[6,13],[7,13],[8,13],[9,13],[10,13],[11,13],
      // Clip at top
      [6,0],[7,0],[8,0],[9,0],
    ],
  },
  // SUR: Eye / surveillance
  SUR: {
    color: '#404040',
    pixels: [
      // Eye shape
      [5,5],[6,4],[7,3],[8,3],[9,3],[10,4],[11,5],
      [4,6],[5,6],[6,6],[7,6],[8,6],[9,6],[10,6],[11,6],[12,6],
      [5,7],[6,8],[7,9],[8,9],[9,9],[10,8],[11,7],
      [4,7],[12,7],
      // Pupil
      [7,5],[8,5],[9,5],
      [7,6],[8,6],[9,6],
      [7,7],[8,7],[9,7],
      // Pupil center
      [8,6],
    ],
  },
  // FOR: Magnifying glass
  FOR: {
    color: '#6e1818',
    pixels: [
      // Glass circle
      [7,2],[8,2],[9,2],
      [6,3],[10,3],
      [5,4],[11,4],
      [5,5],[11,5],
      [5,6],[11,6],
      [6,7],[10,7],
      [7,8],[8,8],[9,8],
      // Handle
      [10,9],[11,10],[12,11],[13,12],
      [11,9],[12,10],[13,11],
      // Glass shine
      [7,4],[7,5],
    ],
  },
  // WIT: Person silhouette / speaking
  WIT: {
    color: '#8b2020',
    pixels: [
      // Head
      [7,1],[8,1],
      [6,2],[7,2],[8,2],[9,2],
      [7,3],[8,3],
      // Body
      [5,4],[6,4],[7,4],[8,4],[9,4],[10,4],
      [4,5],[5,5],[6,5],[7,5],[8,5],[9,5],[10,5],[11,5],
      [5,6],[6,6],[7,6],[8,6],[9,6],[10,6],
      [6,7],[7,7],[8,7],[9,7],
      // Speech bubble
      [11,1],[12,1],[13,1],
      [11,2],[13,2],
      [11,3],[12,3],[13,3],
      [10,4],
    ],
  },
  // OFF: Official seal / stamp
  OFF: {
    color: '#501010',
    pixels: [
      // Outer circle
      [6,1],[7,1],[8,1],[9,1],
      [4,2],[5,2],[10,2],[11,2],
      [3,3],[12,3],
      [3,4],[12,4],
      [2,5],[13,5],
      [2,6],[13,6],
      [2,7],[13,7],
      [2,8],[13,8],
      [3,9],[12,9],
      [3,10],[12,10],
      [4,11],[5,11],[10,11],[11,11],
      [6,12],[7,12],[8,12],[9,12],
      // Star inside
      [7,4],[8,4],
      [6,5],[7,5],[8,5],[9,5],
      [5,6],[6,6],[7,6],[8,6],[9,6],[10,6],
      [6,7],[7,7],[8,7],[9,7],
      [5,8],[6,8],[9,8],[10,8],
      [7,9],[8,9],
    ],
  },
  // EXT: Globe / newspaper
  EXT: {
    color: '#404040',
    pixels: [
      // Globe outline
      [6,1],[7,1],[8,1],[9,1],
      [4,2],[5,2],[10,2],[11,2],
      [3,3],[12,3],
      [3,4],[12,4],
      [2,5],[13,5],
      [2,6],[13,6],
      [2,7],[13,7],
      [3,8],[12,8],
      [3,9],[12,9],
      [4,10],[5,10],[10,10],[11,10],
      [6,11],[7,11],[8,11],[9,11],
      // Meridian
      [7,2],[8,2],[7,3],[8,3],[7,4],[8,4],[7,5],[8,5],
      [7,6],[8,6],[7,7],[8,7],[7,8],[8,8],[7,9],[8,9],[7,10],[8,10],
      // Equator
      [3,6],[4,6],[5,6],[6,6],[9,6],[10,6],[11,6],[12,6],
    ],
  },
  // NEWS: Newspaper
  NEWS: {
    color: '#404040',
    pixels: [
      // Paper outline
      [3,1],[4,1],[5,1],[6,1],[7,1],[8,1],[9,1],[10,1],[11,1],[12,1],
      [3,2],[12,2],
      [3,3],[5,3],[6,3],[7,3],[8,3],[9,3],[10,3],[12,3],
      [3,4],[12,4],
      [3,5],[5,5],[6,5],[7,5],[8,5],[12,5],
      [3,6],[12,6],
      [3,7],[5,7],[6,7],[7,7],[8,7],[9,7],[10,7],[12,7],
      [3,8],[12,8],
      [3,9],[5,9],[6,9],[7,9],[12,9],
      [3,10],[12,10],
      [3,11],[4,11],[5,11],[6,11],[7,11],[8,11],[9,11],[10,11],[11,11],[12,11],
    ],
  },
  // NSA: Lock / shield
  NSA: {
    color: '#501010',
    pixels: [
      // Shield top
      [6,1],[7,1],[8,1],[9,1],
      [5,2],[6,2],[7,2],[8,2],[9,2],[10,2],
      [4,3],[5,3],[6,3],[7,3],[8,3],[9,3],[10,3],[11,3],
      [4,4],[5,4],[6,4],[7,4],[8,4],[9,4],[10,4],[11,4],
      [4,5],[5,5],[6,5],[7,5],[8,5],[9,5],[10,5],[11,5],
      [4,6],[5,6],[6,6],[7,6],[8,6],[9,6],[10,6],[11,6],
      [5,7],[6,7],[7,7],[8,7],[9,7],[10,7],
      [5,8],[6,8],[7,8],[8,8],[9,8],[10,8],
      [6,9],[7,9],[8,9],[9,9],
      [7,10],[8,10],
      // Keyhole
      [7,4],[8,4],
      [7,5],[8,5],
      [7,6],[8,6],[7,7],
    ],
  },
  // TJC: Scale of justice
  TJC: {
    color: '#6e1818',
    pixels: [
      // Pillar
      [7,2],[8,2],
      [7,3],[8,3],
      [7,4],[8,4],
      [7,5],[8,5],
      [7,6],[8,6],
      [7,7],[8,7],
      [7,8],[8,8],
      [7,9],[8,9],
      // Base
      [5,10],[6,10],[7,10],[8,10],[9,10],[10,10],
      [4,11],[5,11],[6,11],[7,11],[8,11],[9,11],[10,11],[11,11],
      // Arms
      [3,2],[4,2],[5,2],[6,2],[9,2],[10,2],[11,2],[12,2],
      // Left pan
      [3,3],[4,3],[5,3],
      [2,4],[3,4],[4,4],[5,4],[6,4],
      // Right pan
      [10,3],[11,3],[12,3],
      [9,4],[10,4],[11,4],[12,4],[13,4],
    ],
  },
}

export function CategoryIcon({ category, size = 16, className }: CategoryIconProps) {
  const iconData = ICON_PIXELS[category]
  if (!iconData) return null

  return (
    <svg
      width={size}
      height={size}
      viewBox="0 0 16 16"
      className={className}
      aria-hidden="true"
      style={{ imageRendering: 'pixelated' }}
    >
      {iconData.pixels.map(([x, y], i) => (
        <rect
          key={i}
          x={x}
          y={y}
          width={1}
          height={1}
          fill={iconData.color}
        />
      ))}
    </svg>
  )
}
